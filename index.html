<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="CK-Arena: A Game-based Benchmark for Assessing Conceptual Knowledge in LLMs">
  <meta name="keywords" content="LLM, Game-based benchmark, Conceptual Knowledge">
  <title>Probe by Gaming: A Game-based Benchmark for Assessing Conceptual Knowledge in LLMs</title>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    .animate-fade-in {
        animation: fadeIn 0.5s ease-in-out;
    }
    @keyframes pulse {
        0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5); }
        70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
        100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
    }
    .animate-pulse {
        animation: pulse 2s infinite;
    }
    
    /* Add margin to game demo section */
    #game-demo {
        margin-top: 2rem;
        margin-bottom: 3rem;
    }
    
    .json-input {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 2rem 0;
      padding: 1.5rem;
      background-color: #f7f7f7;
      border-radius: 8px;
    }
    
    .sample-json-btn {
      margin-top: 1rem;
    }
    
    .file-input-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 1rem;
    }
    
    #fileStatus {
      margin-top: 0.5rem;
      font-style: italic;
    }
    
    .loading-spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #3498db;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      animation: spin 1s linear infinite;
      margin: 20px auto;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>

<nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="navbar-menu">
    <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
      <a class="navbar-item" href="#">
      <span class="icon">
          <i class="fas fa-home"></i>
      </span>
      </a>
    </div>
  </div>
</nav>

<section class="hero">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title">Probe by Gaming: A Game-based Benchmark for Assessing Conceptual Knowledge in LLMs</h1>
          <div class="is-size-5 publication-authors">
            <span class="author-block">
              <a href="#">Shuhang Xu</a><sup>♢</sup>,</span>
            <span class="author-block">
              <a href="#">Weijian Deng</a><sup>♣</sup>,</span>
            <span class="author-block">
              <a href="#">Yixuan Zhou</a><sup>♠</sup>,
            </span>
            <span class="author-block">
              <a href="#">Fangwei Zhong</a><sup>✉️♢</sup>
            </span>
          </div>

          <div class="is-size-5 publication-authors">
            <span class="author-block"><sup>♢</sup>Beijing Normal University,</span>
            <span class="author-block"><sup>♣</sup>Australian National University,</span>
            <span class="author-block"><sup>♠</sup>Beijing 101 Education Group</span>
          </div>
          
          <div class="is-size-5 publication-authors">
            <span class="author-block"><sup>✉️</sup>Correspondence to fangweizhong@bnu.edu.cn</span>
          </div>

          <div class="column has-text-centered">
            <div class="publication-links">
              <!-- PDF Link. -->
              <span class="link-block">
                <a href="https://CK-Arena.site"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>
              <!-- Code Link. -->
              <span class="link-block">
                <a href="https://github.com/Yeswolo/CK-Arena"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code</span>
                  </a>
              </span>
              <span class="link-block">
                <a href="https://www.kaggle.com/datasets/shuhangxu68/ck-arena"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Data</span>
                </a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section">
  <div class="container is-max-desktop">
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            Concepts represent generalized abstractions that enable humans to categorize and
            reason efficiently, yet it is unclear to what extent Large Language Models (LLMs)
            comprehend these semantic relationships. Existing benchmarks typically focus
            on factual recall and isolated tasks, failing to evaluate the ability of LLMs to
            understand conceptual boundaries. To address this gap, we introduce CK-Arena, a
            multi-agent interaction game built upon the Undercover game, designed to evaluate
            the capacity of LLMs to reason with concepts in interactive settings. CK-Arena
            challenges models to describe, differentiate, and infer conceptual boundaries based
            on partial information, encouraging models to explore commonalities and distinctions
            between closely related concepts. By simulating real-world interaction,
            CK-Arena provides a scalable and realistic benchmark for assessing conceptual
            reasoning in dynamic environments. Experimental results show that LLMs' understanding
            of conceptual knowledge varies significantly across different categories
            and is not strictly aligned with parameter size or general model capabilities.
          </p>
        </div>
      </div>
    </div>
    <!--/ Abstract. -->
  </div>
</section>

<!-- File Input Section -->
<section class="section">
  <div class="container is-max-desktop">
    <div class="columns is-centered">
      <div class="column is-four-fifths">
        <div class="json-input">
          <h3 class="title is-4">Load Game Data</h3>
          <p class="subtitle is-6 mb-4">Upload a JSON file to visualize a game session</p>
          
          <div class="file-input-wrapper">
            <div class="file has-name is-fullwidth">
              <label class="file-label">
                <input class="file-input" type="file" id="jsonFileInput" accept=".json">
                <span class="file-cta">
                  <span class="file-icon">
                    <i class="fas fa-upload"></i>
                  </span>
                  <span class="file-label">
                    Choose a file…
                  </span>
                </span>
                <span class="file-name" id="fileName">
                  No file selected
                </span>
              </label>
            </div>
            <p id="fileStatus"></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Game Demo Section -->
<section class="section" id="game-demo">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">CK-Arena Demo: Undercover Game</h2>
        <div class="content">
          <p class="has-text-justified">
            Below is an interactive demonstration of the Undercover game used in CK-Arena. In this game, LLM agents are assigned either the main concept or an undercover concept. Players take turns making statements about their concept without revealing it directly. The goal for the civilians is to identify and eliminate the undercover agents through voting, while undercover agents try to blend in without being detected.
          </p>
          
          <!-- Game Animation Container -->
          <div id="gameContainer" class="mt-6">
            <div id="loadingMessage" class="has-text-centered my-6">
              <p>Load a game file to begin the demonstration</p>
            </div>
            <div id="gameContent" class="is-hidden"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section" id="BibTeX">
  <div class="container is-max-desktop content">
    <h2 class="title">BibTeX</h2>
    <pre><code>@article{xu2025probe,
  author    = {Xu, Shuhang and Deng, Weijian and Zhou, Yixuan and Zhong, Fangwei},
  title     = {Probe by Gaming: A Game-based Benchmark for Assessing Conceptual Knowledge in LLMs},
  year      = {2025},
}</code></pre>
  </div>
</section>

<footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <a class="icon-link" href="https://CK-Arena.site">
        <i class="fas fa-file-pdf"></i>
      </a>
      <a class="icon-link" href="https://github.com/Yeswolo/CK-Arena" class="external-link">
        <i class="fab fa-github"></i>
      </a>
    </div>
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">
          <p>
            This website is licensed under a <a rel="license"
                                                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

<!-- Game Animation Script -->
<script>
  // DOM Elements
  const jsonFileInput = document.getElementById('jsonFileInput');
  const fileNameSpan = document.getElementById('fileName');
  const fileStatusElem = document.getElementById('fileStatus');
  const loadingMessage = document.getElementById('loadingMessage');
  const gameContent = document.getElementById('gameContent');

  // State variables
  let currentGameData = null;
  let currentPhase = 'introduction';
  let currentStatement = 0;
  let animationProgress = 0;
  let showJudgeScores = false;
  let started = false;
  let animationTimer = null;

  // Event listeners
  jsonFileInput.addEventListener('change', handleFileUpload);

  // File handling functions
  function handleFileUpload(event) {
    const file = event.target.files[0];
    if (!file) return;
    
    fileNameSpan.textContent = file.name;
    fileStatusElem.textContent = 'Loading file...';
    
    const reader = new FileReader();
    
    reader.onload = function(e) {
      try {
        const data = JSON.parse(e.target.result);
        fileStatusElem.textContent = 'File loaded successfully!';
        loadGameData(data);
      } catch (error) {
        fileStatusElem.textContent = 'Error: Invalid JSON format';
        console.error('Error parsing JSON:', error);
      }
    };
    
    reader.onerror = function() {
      fileStatusElem.textContent = 'Error reading file';
    };
    
    reader.readAsText(file);
  }

  function loadGameData(data) {
    // Reset the game state
    resetGameState();
    
    // Store the game data
    currentGameData = data;
    
    // Show loading spinner while preparing the game
    loadingMessage.innerHTML = '<div class="loading-spinner"></div><p>Preparing game demo...</p>';
    
    // Initialize the game after a short delay
    setTimeout(() => {
      renderGame();
      loadingMessage.classList.add('is-hidden');
      gameContent.classList.remove('is-hidden');
    }, 1000);
  }

  function resetGameState() {
    // Clear any existing timers
    if (animationTimer) {
      clearTimeout(animationTimer);
    }
    
    // Reset state variables
    currentPhase = 'introduction';
    currentStatement = 0;
    animationProgress = 0;
    showJudgeScores = false;
    started = false;
  }

  // Rendering functions
  function renderGame() {
    // Create the game UI
    gameContent.innerHTML = createGameUI();
    
    // Add event listeners to start button if in introduction phase
    if (currentPhase === 'introduction') {
      const startButton = document.getElementById('startButton');
      if (startButton) {
        startButton.addEventListener('click', startGame);
      }
    }
    
    // Set up phase transitions if game has started
    if (started) {
      setupPhaseTransitions();
    }
  }

  function createGameUI() {
    if (!currentGameData) return '';
    
    const gameRecord = currentGameData.game_record;
    const conceptPair = gameRecord.concept_pair;
    const players = gameRecord.players;
    const statements = gameRecord.game_process.statements;
    const votingRounds = gameRecord.game_process.voting_rounds;
    
    let html = `
      <div class="game-container bg-white p-6 max-w-4xl mx-auto rounded-xl shadow-lg">
        <header class="mb-6">
          <h1 class="text-3xl font-bold text-center text-gray-800">Undercover Game</h1>
          <div class="flex justify-center space-x-4 mt-2">
            <div class="px-3 py-1 rounded-full text-sm ${currentPhase === 'introduction' ? 'bg-blue-600 text-white' : 'bg-gray-200'}">
              Introduction
            </div>
            <div class="px-3 py-1 rounded-full text-sm ${currentPhase === 'statements' ? 'bg-blue-600 text-white' : 'bg-gray-200'}">
              Statements
            </div>
            <div class="px-3 py-1 rounded-full text-sm ${currentPhase === 'voting' ? 'bg-blue-600 text-white' : 'bg-gray-200'}">
              Voting
            </div>
            <div class="px-3 py-1 rounded-full text-sm ${currentPhase === 'results' ? 'bg-blue-600 text-white' : 'bg-gray-200'}">
              Results
            </div>
          </div>
        </header>

        <main class="min-h-96">
    `;
    
    // Render the current phase
    if (currentPhase === 'introduction') {
      html += renderIntroduction(gameRecord);
    } else if (currentPhase === 'statements' && started) {
      html += renderStatements(statements);
    } else if (currentPhase === 'voting' && started) {
      html += renderVoting(votingRounds[0]);
    } else if (currentPhase === 'results' && started) {
      html += renderResults(votingRounds[0]);
    }
    
    html += `
        </main>
        <footer class="mt-8 text-center text-sm text-gray-500">
          Game ID: ${gameRecord.game_id}
        </footer>
      </div>
    `;
    
    return html;
  }

  function renderIntroduction(gameRecord) {
    const conceptPair = gameRecord.concept_pair;
    const category = gameRecord.topic_category;
    
    return `
      <div class="text-center animate-fade-in">
        <h2 class="text-2xl font-bold mb-4">Undercover Game</h2>
        <p class="text-lg mb-2">Topic Category: ${category.charAt(0).toUpperCase() + category.slice(1)}</p>
        <div class="flex justify-center space-x-8 mt-6">
          <div class="text-center">
            <div class="bg-gradient-to-r from-green-500 to-green-700 text-white p-4 rounded-lg">
              Civilian Concept: <span class="font-bold">${conceptPair.concept_a}</span>
            </div>
          </div>
          <div class="text-center">
            <div class="bg-gradient-to-r from-red-500 to-red-700 text-white p-4 rounded-lg">
              Undercover Concept: <span class="font-bold">${conceptPair.concept_b}</span>
            </div>
          </div>
        </div>

        <div class="mt-6">
          <button
            id="startButton"
            class="px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition"
          >
            Start Demo
          </button>
        </div>
      </div>
    `;
  }

  function renderStatements(statements) {
    const firstRoundStatements = statements.filter(s => s.statement_round === 1);
    
    let html = `
      <div class="animate-fade-in">
        <h2 class="text-2xl font-bold mb-4 text-center">Round 1 Statements</h2>
    `;
    
    if (currentStatement > 0) {
      for (let i = 0; i < Math.min(currentStatement, firstRoundStatements.length); i++) {
        const statement = firstRoundStatements[i];
        const player = findPlayer(statement.player_id);
        const scores = statement.metrics.judges_stats;
        
        html += `
          <div class="mb-6 p-4 rounded-lg border-2 ${i === currentStatement - 1 ? 'border-blue-500 animate-pulse bg-blue-50' : 'border-gray-200'}">
            <div class="flex items-center mb-2">
              <div class="w-8 h-8 rounded-full bg-gradient-to-r ${getPlayerColor(player)} text-white flex items-center justify-center font-bold mr-2">
                ${player.player_id}
              </div>
              <span class="font-medium">${getModelName(player.llm_id)}</span>
            </div>
            <p class="ml-10 italic">"${statement.content}"</p>

            <div class="mt-4 grid grid-cols-3 gap-4 justify-items-center bg-gray-50 p-3 rounded-lg">
              <div class="text-center">
                <div class="text-sm text-gray-600">Novelty</div>
                <div class="font-bold text-lg">${scores.novelty_score_mean.toFixed(1)}</div>
              </div>
              <div class="text-center">
                <div class="text-sm text-gray-600">Relevance</div>
                <div class="font-bold text-lg">${scores.relevance_score_mean.toFixed(1)}</div>
              </div>
              <div class="text-center">
                <div class="text-sm text-gray-600">Reasonableness</div>
                <div class="font-bold text-lg">${scores.reasonableness_score_mean.toFixed(1)}</div>
              </div>
            </div>
          </div>
        `;
      }
    }
    
    html += `</div>`;
    return html;
  }

  function renderVoting(votingRound) {
    let html = `
      <div class="animate-fade-in">
        <h2 class="text-2xl font-bold mb-4 text-center">Voting Summary</h2>
        <div class="grid grid-cols-6 gap-2 mb-6">
    `;
    
    for (const [playerId, votes] of Object.entries(votingRound.vote_results)) {
      const player = findPlayer(parseInt(playerId));
      
      html += `
        <div class="text-center">
          <div class="w-12 h-12 mx-auto rounded-full bg-gradient-to-r ${getPlayerColor(player)} text-white flex items-center justify-center font-bold">
            ${playerId}
          </div>
          <div class="mt-2">Votes</div>
          <div class="w-8 h-8 mx-auto rounded-full bg-gray-700 text-white flex items-center justify-center font-bold">
            ${votes}
          </div>
        </div>
      `;
    }
    
    html += `
        </div>
        <div class="w-full bg-gray-200 rounded-full h-4 mt-6">
          <div class="bg-blue-600 h-4 rounded-full transition-all duration-500" style="width: ${animationProgress}%"></div>
        </div>
        <p class="text-center mt-2">Calculating results...</p>
      </div>
    `;
    
    return html;
  }

  function renderResults(votingRound) {
    let html = `
      <div class="animate-fade-in">
        <h2 class="text-2xl font-bold mb-4 text-center">Voting Results</h2>
        <div class="mb-8">
          <div class="grid grid-cols-6 gap-2 mb-6">
    `;
    
    for (const [playerId, votes] of Object.entries(votingRound.vote_results)) {
      const player = findPlayer(parseInt(playerId));
      
      html += `
        <div class="text-center">
          <div class="w-12 h-12 mx-auto rounded-full bg-gradient-to-r ${getPlayerColor(player)} text-white flex items-center justify-center font-bold">
            ${playerId}
          </div>
          <div class="mt-2">Received</div>
          <div class="w-8 h-8 mx-auto rounded-full bg-gray-700 text-white flex items-center justify-center font-bold">
            ${votes}
          </div>
        </div>
      `;
    }
    
    html += `
          </div>
          
          <div class="text-center p-4 bg-red-100 rounded-lg">
            <h3 class="font-bold text-xl mb-2">Eliminated Player</h3>
    `;
    
    if (votingRound.eliminated && votingRound.eliminated.length > 0) {
      const eliminated = votingRound.eliminated[0];
      const player = findPlayer(eliminated.player_id);
      
      html += `
        <div class="mb-2">
          <div class="flex items-center justify-center">
            <div class="w-12 h-12 rounded-full bg-gradient-to-r from-red-500 to-red-700 text-white flex items-center justify-center font-bold mr-3">
              ${eliminated.player_id}
            </div>
            <div>
              <div class="font-medium">${getModelName(eliminated.llm_id)}</div>
              <div class="text-red-700 font-bold">Role: Undercover (${player.assigned_concept})</div>
            </div>
          </div>
        </div>
        <div class="mt-4 text-green-700 font-bold text-xl">
          Successfully eliminated an undercover!
        </div>
      `;
    } else {
      html += `<div class="mt-4 text-red-700 font-bold text-xl">No player was eliminated!</div>`;
    }
    
    html += `
          </div>
        </div>
        
        <div class="text-center">
          <button 
            id="replayButton"
            class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"
          >
            Replay
          </button>
        </div>
      </div>
    `;
    
    return html;
  }

  // Game control functions
  function startGame() {
    started = true;
    currentPhase = 'statements';
    renderGame();
    setupPhaseTransitions();
  }

  function setupPhaseTransitions() {
    if (currentPhase === 'statements') {
      // Advance through statements
      animationTimer = setTimeout(() => {
        if (currentStatement < getFirstRoundStatements().length) {
          currentStatement++;
          renderGame();
        } else {
          // Move to voting phase
          currentPhase = 'voting';
          renderGame();
        }
      }, 3000);
    } else if (currentPhase === 'voting') {
      // Animate the voting progress bar
      let progress = 0;
      const interval = setInterval(() => {
        progress += 10;
        animationProgress = progress;
        
        if (progress >= 100) {
          clearInterval(interval);
          
          // Move to results phase after a delay
          setTimeout(() => {
            currentPhase = 'results';
            renderGame();
            
            // Add event listener to replay button
            const replayButton = document.getElementById('replayButton');
            if (replayButton) {
              replayButton.addEventListener('click', resetAndReplay);
            }
          }, 1000);
        } else {
          // Update the progress bar
          const progressBar = document.querySelector('.bg-blue-600');
          if (progressBar) {
            progressBar.style.width = `${progress}%`;
          }
        }
      }, 300);
    }
  }

  function resetAndReplay() {
    currentPhase = 'introduction';
    currentStatement = 0;
    animationProgress = 0;
    showJudgeScores = false;
    started = false;
    renderGame();
  }

  // Helper functions
  function getFirstRoundStatements() {
    return currentGameData.game_record.game_process.statements.filter(s => s.statement_round === 1);
  }

  function findPlayer(playerId) {
    return currentGameData.game_record.players.find(p => p.player_id === playerId);
  }

  function getPlayerColor(player) {
    if (player.role === 'undercover') {
      return 'from-red-500 to-red-700'; // Undercover is red
    }
    return 'from-green-500 to-green-700'; // Civilian is green
  }

  function getModelName(llmId) {
    // Simplify model name display
    const parts = llmId.split('-');
    return parts[0].charAt(0).toUpperCase() + parts[0].slice(1);
  }
</script>
</body>
</html>